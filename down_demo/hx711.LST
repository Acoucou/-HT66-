ÎÄ¼þ£ºhx711.c      ±àÒëÆ÷°æ±¾ HGASM 0202 Ò³´Î1


   1  0000              ; Generated by holtek-gcc v3.19, Thu May 05 14:52:42 2022
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       with long instruction
   5  0000              ;       Multi-ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ; SFR address of long-instruction arch:
  12  0000              ;    mp0 = -1,1,0
  13  0000              ;    mp1 = 4,3,2
  14  0000              ;    mp2 = 14,13,12
  15  0000              ;    tbp = 9,7,8
  16  0000              ;    acc = 5
  17  0000              ;    pcl = 6
  18  0000              ;    status = 10
  19  0000              ;    bp = 11
  20  0000              ;    intc = 16
  21  0000              ;       
  22  0000              ;       
  23  0000              ; use 'tabrdc' instead of 'tabrd'
  24  0000              ;       
  25  0000              
  26  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  27  0000              ; Rebuild 718
  28  0000              
  29  0000              ir equ [2]
  30  0000              mp equ [3]
  31  0000              sbp equ [4]
  32  0000              acc equ [5]
  33  0000              bp equ [11]
  34  0000              tblp equ [7]
  35  0000              tbhp equ [9]
  36  0000              status equ [10]
  37  0000              c equ [10].0
  38  0000              ac equ [10].1
  39  0000              z equ [10].2
  40  0000              ov equ [10].3
  41  0000              cz equ [10].6
  42  0000              sc equ [10].7
  43  0000              intc equ [16]
  44  0000              mduwr0 equ [59h]
  45  0000              mduwr1 equ [5ah]
  46  0000              mduwr2 equ [5bh]
  47  0000              mduwr3 equ [5ch]
  48  0000              mduwr4 equ [5dh]
  49  0000              mduwr5 equ [5eh]
  50  0000              mduwrctrl equ [5fh]
  51  0000              
  52  0000              extern ra:byte
  53  0000              extern rb:byte
  54  0000              extern rc:byte
  55  0000              extern rd:byte
  56  0000              extern re:byte
  57  0000              extern rf:byte
  58  0000              extern rg:byte
  59  0000              extern rh:byte
ÎÄ¼þ£ºhx711.ASM    ±àÒëÆ÷°æ±¾ HGASM 0202 Ò³´Î2

  60  0000              extern _Crom2Prom:near
  61  0000              extern _Crom2PromNext:near
  62  0000              
  63  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  64  0000              @HCCINIT	.section 'data'
  65  0000              @HCCINIT0	.section 'data'
  66  0000              @BITDATASEC	 .section 'data'
  67  0000              @BITDATASEC1	 .section 'data'
  68  0000              
  69  0000              #pragma debug scope 1 1
  70  0000              	extern __DELAY3:near
  71  0000              	extern __DELAYX3:near
  72  0000              	extern __DELAYX6:near
  73  0000              	extern __DELAYY5:near
  74  0000              	extern __DELAYY3:near
  75  0000              	extern _builtin_holtek_delay_2:byte
  76  0000              public _Delay__hx711_us
  77  0000              #pragma debug scope 2 1

  11  0000              #line 11 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  11  0000              _Delay__hx711_us .section 'code'
  11  0000              _Delay__hx711_us proc
  12  0000              #line 12 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  12  0000              ;# 12 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c" 1
  12  0000  0000        	nop
  13  0001              #line 13 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  13  0001              ;# 13 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c" 1
  13  0001  0000        	nop
  13  0002  0003        	ret
  13  0003              _Delay__hx711_us endp
  13  0003              #line 13 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  13  0003              #pragma debug scope 1 1
  13  0003              ___pfc equ [37]
  13  0003              ___pf equ [36]
  13  0003              public _HX711_Read
  13  0003              #pragma debug scope 3 1
  20  0003              #line 20 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  20  0000              _HX711_Read .section 'code'
  20  0000              _HX711_Read proc
  20  0000  0004[           local _HX711_Read_2 db 4 dup(?)	; 0,4
            00
            ]
  23  0004              #line 23 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  23  0000  35A5        	clr [37].3
  24  0001              #line 24 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  24  0001  3525        	clr [37].2
  25  0002              #line 25 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  25  0002  3124        	set [36].2
  26  0003              #line 26 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  26  0003  3125        	set [37].2
  28  0004              #line 28 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  28  0004              	fcall _Delay__hx711_us
  30  000B              #line 30 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  30  000B  35A4        	clr [36].3
  30  000C              _L4:
  32  000C              #line 32 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  32  000C  3D24        	sz [36].2
  32  000D  2800     R  	jmp _L4
  32  000E  0F18        	mov a,24
  32  000F  0080     E  	mov ra,a
ÎÄ¼þ£ºhx711.c      ±àÒëÆ÷°æ±¾ HGASM 0202 Ò³´Î3

  32  0010  1F00     R  	clr _HX711_Read_2[0]
  32  0011  1F00     R  	clr _HX711_Read_2[1]
  32  0012  1F00     R  	clr _HX711_Read_2[2]
  32  0013  1F00     R  	clr _HX711_Read_2[3]
  32  0014              _L7:
  35  0014              #line 35 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  35  0014  31A4        	set [36].3
  36  0015              #line 36 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  36  0015  0700     R  	mov a,_HX711_Read_2[0]
  36  0016  0380     R  	addm a,_HX711_Read_2[0]
  36  0017  0700     R  	mov a,_HX711_Read_2[1]
  36  0018  1380     R  	adcm a,_HX711_Read_2[1]
  36  0019  0700     R  	mov a,_HX711_Read_2[2]
  36  001A  1380     R  	adcm a,_HX711_Read_2[2]
  36  001B  0700     R  	mov a,_HX711_Read_2[3]
  36  001C  1380     R  	adcm a,_HX711_Read_2[3]
  37  001D              #line 37 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  37  001D  35A4        	clr [36].3
  39  001E              #line 39 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  39  001E  3924        	snz [36].2
  39  001F  2800     R  	jmp _L5
  40  0020              #line 40 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  40  0020  0F01        	mov a,1
  40  0021  0380     R  	addm a,_HX711_Read_2[0]
  40  0022  0F00        	mov a,0
  40  0023  1380     R  	adcm a,_HX711_Read_2[1]
  40  0024  1380     R  	adcm a,_HX711_Read_2[2]
  40  0025  1380     R  	adcm a,_HX711_Read_2[3]
  40  0026              _L5:
  40  0026  1780     E  	sdz ra
  40  0027  2800     R  	jmp _L7
  42  0028              #line 42 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  42  0028  31A4        	set [36].3
  44  0029              #line 44 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  44  0029              	fcall _Delay__hx711_us
  45  0030              #line 45 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  45  0030  35A4        	clr [36].3
  47  0031              #line 47 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  47  0031  0700     R  	mov a,_HX711_Read_2[0]
  47  0032  0080     E  	mov ra,a
  47  0033  0700     R  	mov a,_HX711_Read_2[1]
  47  0034  0080     E  	mov rb,a
  47  0035  0700     R  	mov a,_HX711_Read_2[2]
  47  0036  0080     E  	mov rc,a
  47  0037  0700     R  	mov a,_HX711_Read_2[3]
  47  0038  0080     E  	mov rd,a
  47  0039  0F00        	mov a,0
  47  003A  0480     E  	xorm a,rd
  47  003B  0F80        	mov a,128
  47  003C  0480     E  	xorm a,rc
  47  003D  0F00        	mov a,0
  47  003E  0480     E  	xorm a,rb
  47  003F  0F00        	mov a,0
  47  0040  0480     E  	xorm a,ra
  47  0041  0003        	ret
  47  0042              _HX711_Read endp
  47  0042              #line 47 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  47  0042              #pragma debug scope 1 1
  47  0042              public _Get_Maopi
  47  0042              #pragma debug scope 4 1
ÎÄ¼þ£ºhx711.c      ±àÒëÆ÷°æ±¾ HGASM 0202 Ò³´Î4

  50  0042              #line 50 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  50  0000              _Get_Maopi .section 'code'
  50  0000              _Get_Maopi proc
  51  0000              #line 51 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  51  0000              	fcall _HX711_Read
  51  0007  0700     E  	mov a,ra
  51  0008  0080     R  	mov _Weight_Maopi[0],a
  51  0009  0700     E  	mov a,rb
  51  000A  0080     R  	mov _Weight_Maopi[1],a
  51  000B  0003        	ret
  51  000C              _Get_Maopi endp
  51  000C              #line 51 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  51  000C              #pragma debug scope 1 1
  51  000C              public _Get_Weight
  51  000C              #pragma debug scope 5 1
  55  000C              #line 55 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  55  0000              _Get_Weight .section 'code'
  55  0000              _Get_Weight proc
  56  0000              #line 56 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  56  0000              	fcall _HX711_Read
  57  0007              #line 57 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  57  0007  0700     E  	mov a,ra
  57  0008  0200     R  	sub a,_Weight_Maopi[0]
  57  0009  0080     E  	mov rf,a
  57  000A  0700     E  	mov a,rb
  57  000B  1200     R  	sbc a,_Weight_Maopi[1]
  57  000C  0080     E  	mov rg,a
  58  000D              #line 58 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  58  000D  3C00     E  	sz rg.7
  58  000E  2800     R  	jmp _L14
  58  000F  0700     E  	mov a,rf
  58  0010  0500     E  	or a,rg
  58  0011  3D0A        	sz z
  58  0012  2800     R  	jmp _L14
  60  0013              #line 60 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  60  0013  0700     E  	mov a,rg
  60  0014  0080     E  	mov _builtin_holtek_mant1[1],a
  60  0015  0700     E  	mov a,rf
  60  0016  0080     E  	mov _builtin_holtek_mant1[0],a
  60  0017              	fcall _builtin_holtek_itof
  60  001E  0700     E  	mov a,_builtin_holtek_mant1[2]
  60  001F  0080     E  	mov re,a
  60  0020  0700     E  	mov a,_builtin_holtek_mant1[1]
  60  0021  0080     E  	mov rd,a
  60  0022  0700     E  	mov a,_builtin_holtek_mant1[0]
  60  0023  0080     E  	mov rc,a
  60  0024  0700     E  	mov a,re
  60  0025  0080     E  	mov _builtin_holtek_mant1[2],a
  60  0026  0700     E  	mov a,rd
  60  0027  0080     E  	mov _builtin_holtek_mant1[1],a
  60  0028  0700     E  	mov a,rc
  60  0029  0080     E  	mov _builtin_holtek_mant1[0],a
  60  002A  0F42        	mov a,66
  60  002B  0080     E  	mov _builtin_holtek_mant2[2],a
  60  002C  0FA0        	mov a,160
  60  002D  0080     E  	mov _builtin_holtek_mant2[1],a
  60  002E  0F00        	mov a,0
  60  002F  0080     E  	mov _builtin_holtek_mant2[0],a
  60  0030              	fcall _builtin_holtek_ftdiv
  60  0037  0700     E  	mov a,_builtin_holtek_mant1[2]
ÎÄ¼þ£ºhx711.c      ±àÒëÆ÷°æ±¾ HGASM 0202 Ò³´Î5

  60  0038  0080     E  	mov re,a
  60  0039  0700     E  	mov a,_builtin_holtek_mant1[1]
  60  003A  0080     E  	mov rd,a
  60  003B  0700     E  	mov a,_builtin_holtek_mant1[0]
  60  003C  0080     E  	mov rc,a
  60  003D  1F00     E  	clr _builtin_holtek_mant12p[0]
  60  003E  0700     E  	mov a,re
  60  003F  0080     E  	mov _builtin_holtek_mant1[2],a
  60  0040  0700     E  	mov a,rd
  60  0041  0080     E  	mov _builtin_holtek_mant1[1],a
  60  0042  0700     E  	mov a,rc
  60  0043  0080     E  	mov _builtin_holtek_mant1[0],a
  60  0044              	fcall _builtin_holtek_ftol
  60  004B  0700     E  	mov a,_builtin_holtek_mant12p[0]
  60  004C  0080     E  	mov rg,a
  60  004D  0700     E  	mov a,_builtin_holtek_mant1[2]
  60  004E  0080     E  	mov rf,a
  60  004F  0700     E  	mov a,_builtin_holtek_mant1[1]
  60  0050  0080     E  	mov re,a
  60  0051  0700     E  	mov a,_builtin_holtek_mant1[0]
  60  0052  0080     E  	mov rd,a
  60  0053  0700     E  	mov a,rd
  60  0054  0080     R  	mov _Weight_Shiwu[0],a
  60  0055  0700     E  	mov a,re
  60  0056  0080     R  	mov _Weight_Shiwu[1],a
  60  0057  2800     R  	jmp _L13
  60  0058              _L14:
  64  0058              #line 64 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  64  0058  1F00     R  	clr _Weight_Shiwu[0]
  64  0059  1F00     R  	clr _Weight_Shiwu[1]
  64  005A              _L13:
  64  005A  0003        	ret
  64  005B              _Get_Weight endp
  64  005B              #line 64 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
  64  005B              #pragma debug scope 1 1
  64  005B              public _Weight_Shiwu
  64  0000              @HCCINIT	.section 'data'
   5  0000              #line 5 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
   5  0000              @HCCINIT_Weight_Shiwu .section 'data'
   5  0000              _Weight_Shiwu label byte
   5  0000              #pragma debug variable 11 1 _Weight_Shiwu "Weight_Shiwu"
   5  0000              	db 0
   5  0000              @ROMDATA_BASE .section inpage 'code'
   5  0000              	db 0
   5  0001              @HCCINIT_Weight_Shiwu .section 'data'
   5  0001              	db 0
   5  0001              @ROMDATA_BASE .section inpage 'code'
   5  0001              	db 0
   5  0002              @HCCINIT_Weight_Shiwu .section 'data'
   5  0002              public _Weight_Maopi
   4  0002              #line 4 "c:\users\ÂäÒ¶\desktop\htproject\down_demo\hx711.c"
   4  0000              @HCCINIT_Weight_Maopi .section 'data'
   4  0000              _Weight_Maopi label byte
   4  0000              #pragma debug variable 11 1 _Weight_Maopi "Weight_Maopi"
   4  0000              	db 0
   4  0001              @ROMDATA_BASE .section inpage 'code'
   4  0001              	db 0
   4  0001              @HCCINIT_Weight_Maopi .section 'data'
   4  0001              	db 0
   4  0002              @ROMDATA_BASE .section inpage 'code'
ÎÄ¼þ£ºhx711.c      ±àÒëÆ÷°æ±¾ HGASM 0202 Ò³´Î6

   4  0002              	db 0
   4  0002              @HCCINIT_Weight_Maopi .section 'data'
   4  0002              #pragma debug struct_end
   4  0002              #pragma debug struct_end
   4  0002              #pragma debug union_end
   4  0002              #pragma debug union_end
   4  0002              #pragma debug variable 43 1 ___pf "__pf" 1
   4  0002              #pragma debug struct_end
   4  0002              #pragma debug struct_end
   4  0002              #pragma debug union_end
   4  0002              #pragma debug union_end
   4  0002              #pragma debug variable 45 1 ___pfc "__pfc" 1
   4  0002              extern _builtin_holtek_mant1:byte
   4  0002              extern _builtin_holtek_itof:near
   4  0002              extern _builtin_holtek_mant2:byte
   4  0002              extern _builtin_holtek_ftdiv:near
   4  0002              extern _builtin_holtek_mant12p:byte
   4  0002              extern _builtin_holtek_ftol:near
   4  0002              
   4  0002              ; 
   4  0002              ; Generated by holtek-gcc v3.19, Thu May 05 14:52:42 2022
   4  0002              ; Rebuild 718
   4  0002              ; end of file


        0 Errors, 0